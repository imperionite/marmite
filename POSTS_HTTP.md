## Posts

The subsequent images represent the screenshots captured from the sample HTTP calls related to `posts/posts` to evaluate and validate the REST API endpoints. For this updates majority of the endpoints now are `protected` with access token provided by JWT except for the the **creation of new user** and **user login**. The compilation of sample HTTP requests generated from the [connectly-api](https://github.com/imperionite/marmite/tree/main/connectly-api) (Django REST API project) is available for review in the [posts.http file](https://github.com/imperionite/marmite/blob/main/posts.http).

**Important Note Regarding Screenshot Data and Data Fixtures:**

Please be aware that some screenshots in this file were captured during the initial phases of development, _prior_ to the implementation of [Django data fixtures](https://docs.djangoproject.com/en/5.1/topics/db/fixtures/) for database seeding. As a result, the specific data values displayed in those earlier screenshots may not precisely match the data currently generated by the fixtures. However, the core API functionality and the expected behavior of the `/posts/posts` endpoint, such as proper handling of requests and responses, remain consistent. New tests will explicitly utilize data generated by the fixtures to ensure ongoing alignment with the current database state. The purpose of including these screenshots is to demonstrate the initial API validation process. You may check the [README.md's Initial Data Seeding](https://github.com/imperionite/marmite/blob/main/README.md#ids) section for details.

**Initial Records in _post_ Table**

![post table](https://drive.google.com/uc?id=1iwB4TQJwF_2DGEMgga_lOYFCsJy5NBYO)

**Initial Records in _like_ Table**

![like table](https://drive.google.com/uc?id=19wVsnd6rCrsYqhgRwkVqw9O_GZzFqLMl)

---

### Create post - Protected

POST /posts/posts/

![create post](https://drive.google.com/uc?id=1tx-eDLDo6L80G0pe5kNgBvWyZI77oYbf)

### Fetch all posts - Public

GET /posts/posts/

![all posts](https://drive.google.com/uc?id=1Tcnpl-TDkrRaHPLy7yc-GQrCoalZKLak)

### Partial update post by id - Owner/author

PATCH /posts/posts/{id}/

![update post by id](https://drive.google.com/uc?id=1C9XPQFKoVLUrgkY6n5wuX38fy2W_wvLL)

### Delete post by id - Owner/author

DELETE /posts/posts/{id}/

![delete post by id](https://drive.google.com/uc?id=1G2iEGpsgZe9hJlvYMmQO6SQcRtAuitDV)

### Fetch post by id - Public

GET /posts/posts/{id}/

![post by id](https://drive.google.com/uc?id=1eyGABDfDBA9H5rEq4ukmq_g1casVAKVJ)

### Liking a post - Protected

POST /posts/posts/{id}/like/

![like post by id](https://drive.google.com/uc?id=14t1tl-1PVzc3HIrA_syphNmzavYvP9co)

**DB verification for liking a post**

![saved like](https://drive.google.com/uc?id=136ipF50S22v4uRvANv9WWQHYs2q_YZaR)

**Liking a certain post more than once**

![like post twice](https://drive.google.com/uc?id=1Q0IaxV6-I8gOXK9wiItK9n33h0yD_Ze9)

**Liking non-existent post**

![liking non existent post](https://drive.google.com/uc?id=1X7XK3qPKArVE458EDPrJGjmMdCxyXZck)

### Unliking a post - Protected

POST /posts/posts/{id}/unlike/

![unlike post by id](https://drive.google.com/uc?id=1mBpuyOFXwXwxj9kCWrI7Uxc2H6L-5Nb4)

**Unliking a post never liked yet**

![cannot unlike post](https://drive.google.com/uc?id=1dyDMnyECcuKY1083oGWiYPh3yuC-wh7m)

### Commenting on a specific post - Protected

POST /posts/posts/{id}/comment/

![commenting on a specific post](https://drive.google.com/uc?id=1FniAoCW8lAFVTa3tXhnex_Mk9sol4XKA)

**DB verification for commenting a post**

![db comment saved](https://drive.google.com/uc?id=1RwIjeeYx4ikDiewF7imvOCqBXC-kWH-P)

**Commenting on non-exitent post**

![non-exitent post commenting](https://drive.google.com/uc?id=1D-euEVuoBlY5PVUnLiPbnipuajDUIWM0)

**Unauthorize request for commenting on post**

![unauthorize request](https://drive.google.com/uc?id=1guGdzhnOEd-A9RynT71SATNewMAhrHuA)

**Commenting with empty content field**

![invalid request](https://drive.google.com/uc?id=1SDPfQafPyv7gx-hqPIm6_proRd_7zWNq)

## Verification for like and comment count

Sample Post: PK 3

![sample post](https://drive.google.com/uc?id=1z21_4thraC0ZrcPXNATf9sHeBTCXN7CH)

**DB Verification before and after liking and commenting a post with PK 3**

![db verification for post 3](https://drive.google.com/uc?id=1fAxsDVDYdRmdg0xKFfIwGbOcxT9OOaaQ)

---

## Summary

### Post & Like API & Related Endpoints

#### Endpoints Table

| Endpoint                     | Method | Description                               | Image Link                                                                          |
| ---------------------------- | ------ | ----------------------------------------- | ----------------------------------------------------------------------------------- |
| `/posts/posts/`              | POST   | Create post - Protected                   | [Create Post](https://drive.google.com/uc?id=1tx-eDLDo6L80G0pe5kNgBvWyZI77oYbf)     |
| `/posts/posts/`              | GET    | Fetch all posts - Public                  | [All Posts](https://drive.google.com/uc?id=1Tcnpl-TDkrRaHPLy7yc-GQrCoalZKLak)       |
| `/posts/posts/{id}/`         | PATCH  | Partial update post by id - Owner/author  | [Update Post](https://drive.google.com/uc?id=1C9XPQFKoVLUrgkY6n5wuX38fy2W_wvLL)     |
| `/posts/posts/{id}/`         | DELETE | Delete post by id - Owner/author          | [Delete Post](https://drive.google.com/uc?id=1G2iEGpsgZe9hJlvYMmQO6SQcRtAuitDV)     |
| `/posts/posts/{id}/`         | GET    | Fetch post by id - Public                 | [Post by ID](https://drive.google.com/uc?id=1eyGABDfDBA9H5rEq4ukmq_g1casVAKVJ)      |
| `/posts/posts/{id}/like/`    | POST   | Liking a post - Protected                 | [Like Post](https://drive.google.com/uc?id=14t1tl-1PVzc3HIrA_syphNmzavYvP9co)       |
| `/posts/posts/{id}/unlike/`  | POST   | Unliking a post - Protected               | [Unlike Post](https://drive.google.com/uc?id=1mBpuyOFXwXwxj9kCWrI7Uxc2H6L-5Nb4)     |
| `/posts/posts/{id}/comment/` | POST   | Commenting on a specific post - Protected | [Comment on Post](https://drive.google.com/uc?id=1FniAoCW8lAFVTa3tXhnex_Mk9sol4XKA) |

##### Additional Verification and Error Cases

| Scenario                          | Description                                        | Image Link                                                                                       |
| --------------------------------- | -------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| Initial Records in `like` Table   | Shows initial state of the `like` table            | [Like Table](https://drive.google.com/uc?id=19wVsnd6rCrsYqhgRwkVqw9O_GZzFqLMl)                   |
| DB verification for liking a post | Verifies data after liking a post                  | [Saved Like](https://drive.google.com/uc?id=136ipF50S22v4uRvANv9WWQHYs2q_YZaR)                   |
| Liking a post more than once      | Demonstrates attempting to like a post twice       | [Like Post Twice](https://drive.google.com/uc?id=1Q0IaxV6-I8gOXK9wiItK9n33h0yD_Ze9)              |
| Liking non-existent post          | Shows error when liking a non-existent post        | [Liking Non-Existent Post](https://drive.google.com/uc?id=1X7XK3qPKArVE458EDPrJGjmMdCxyXZck)     |
| Unliking a post never liked       | Shows error when unliking a non-liked post         | [Cannot Unlike Post](https://drive.google.com/uc?id=1dyDMnyECcuKY1083oGWiYPh3yuC-wh7m)           |
| DB verification for comment       | Verifies data after commenting on a post           | [DB Comment Saved](https://drive.google.com/uc?id=1RwIjeeYx4ikDiewF7imvOCqBXC-kWH-P)             |
| Commenting on non-existent post   | Shows error when commenting on a non-existent post | [Non-Existent Post Commenting](https://drive.google.com/uc?id=1D-euEVuoBlY5PVUnLiPbnipuajDUIWM0) |
| Unauthorized comment request      | Shows unauthorized access attempt                  | [Unauthorized Request](https://drive.google.com/uc?id=1guGdzhnOEd-A9RynT71SATNewMAhrHuA)         |
| Commenting with empty content     | Shows error when content is empty                  | [Invalid Request](https://drive.google.com/uc?id=1SDPfQafPyv7gx-hqPIm6_proRd_7zWNq)              |
| Sample Post PK 3                  | Example post with ID 3                             | [Sample Post](https://drive.google.com/uc?id=1z21_4thraC0ZrcPXNATf9sHeBTCXN7CH)                  |
| DB Verification Post 3            | Verification before/after like/comment             | [DB Verification for Post 3](https://drive.google.com/uc?id=1fAxsDVDYdRmdg0xKFfIwGbOcxT9OOaaQ)   |
